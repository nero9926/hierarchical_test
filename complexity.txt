Сложность выборки SQl:
Временная сложность:O(H + N), где H — высота иерархии, а N — количество сотрудников.

В качестве оптимизации можно рассмотреть использование индексов на поля parentId и type